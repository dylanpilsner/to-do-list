{"mappings":"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","sources":["src/components/text.ts","src/components/todo-item.ts","src/components/header.ts","src/state.ts","src/index.ts","src/pages/home/index.ts"],"sourcesContent":["import { state } from \"../state\";\r\n\r\nclass Text extends HTMLElement {\r\n  shadow: ShadowRoot;\r\n  tagName: string;\r\n  tags: string[] = [\"h1\", \"p\"];\r\n  tag: string = \"p\";\r\n  constructor() {\r\n    super();\r\n    this.shadow = this.attachShadow({ mode: \"open\" });\r\n    if (this.tags.includes(this.getAttribute(\"tag\"))) {\r\n      this.tag = this.getAttribute(\"tag\") || this.tag;\r\n    }\r\n    this.render();\r\n  }\r\n  render() {\r\n    const rootEl = document.createElement(this.tag);\r\n    rootEl.textContent = this.textContent;\r\n    this.shadow.appendChild(rootEl);\r\n  }\r\n}\r\n\r\ncustomElements.define(\"my-text\", Text);\r\n","class Todo extends HTMLElement {\r\n  shadow: ShadowRoot;\r\n  title: string;\r\n  checked: boolean = false;\r\n  constructor() {\r\n    super();\r\n    this.shadow = this.attachShadow({ mode: \"open\" });\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.title = this.getAttribute(\"title\") || \"\";\r\n    this.checked = this.hasAttribute(\"checked\");\r\n    this.id = this.getAttribute(\"id\");\r\n    this.render();\r\n  }\r\n\r\n  addCallbacks() {\r\n    const chEl = this.shadow.querySelector(\".checkbox-input\");\r\n    chEl.addEventListener(\"click\", (e) => {\r\n      const target = e.target as any;\r\n\r\n      const event = new CustomEvent(\"change\", {\r\n        detail: {\r\n          id: this.id,\r\n          value: target.checked,\r\n        },\r\n      });\r\n      this.dispatchEvent(event);\r\n    });\r\n\r\n    const card = this.shadow.querySelector(\".root\");\r\n    card.addEventListener(\"click\", (e) => {\r\n      const target = e.target as any;\r\n      target.classList.toggle(\"open\");\r\n      target.classList.toggle(\"closed\");\r\n      const clases = target.getAttribute(\"class\");\r\n      const remove: any = this.shadow.querySelector(\".bi\");\r\n      if (clases == \"root open\") {\r\n        remove.style.display = \"initial\";\r\n        target.style.border = \"solid 2px\";\r\n      } else if (clases == \"root closed\") {\r\n        remove.style.display = \"none\";\r\n        target.style.border = \"none\";\r\n      }\r\n    });\r\n\r\n    const trashEl = this.shadow.querySelector(\".bi\");\r\n\r\n    trashEl.addEventListener(\"click\", () => {\r\n      const deleteEvent = new CustomEvent(\"delete\", {\r\n        detail: {\r\n          id: this.id,\r\n        },\r\n      });\r\n\r\n      this.dispatchEvent(deleteEvent);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    this.shadow.innerHTML = `\r\n    <div class=\"root closed\">\r\n    <h4 class='${this.checked ? \"checked\" : \"\"}'>${this.title}</h4>\r\n    <div class=\"makers\">\r\n      <input class=\"checkbox-input\" type=\"checkbox\" ${\r\n        this.checked ? \"checked\" : \"\"\r\n      } />\r\n      <img class=\"bi\" src=\"https://lio-n.github.io/dwf-m5-noteApp/trash-icon.afb2ef45.svg\" alt=\"foto\">\r\n    </div>\r\n  </div>\r\n    `;\r\n\r\n    const style = document.createElement(\"style\");\r\n\r\n    style.innerHTML = `\r\n    *{\r\n      box-sizing: border-box; \r\n    }\r\n\r\n    .makers{\r\n      display:flex;\r\n      flex-direction:column;\r\n      align-items:center;\r\n      justify-content:space-between;\r\n    }\r\n\r\n    .bi{\r\n      margin-bottom:15px;\r\n      display:none;\r\n      height:25px;\r\n      width:25px;\r\n    }\r\n\r\n    h4{\r\n      height:20px\r\n    }\r\n\r\n    .root{\r\n      display:flex;\r\n      justify-content:space-between;\r\n      font-size:18px;\r\n      border-radius: 4px;\r\n      padding: 0px 13px;\r\n      background-color: #fff599;\r\n      height:112px;\r\n      width:100%;\r\n      max-width:312px;\r\n    }\r\n    .checkbox-input{\r\n      margin-top:20px;\r\n      height:20px;\r\n      width:20px;\r\n    }\r\n\r\n    h4.checked{\r\n      text-decoration: line-through;\r\n    }\r\n    `;\r\n    this.shadow.appendChild(style);\r\n    this.addCallbacks();\r\n  }\r\n}\r\ncustomElements.define(\"todo-item\", Todo);\r\n","class Header extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.render();\r\n  }\r\n  render() {\r\n    const shadow = this.attachShadow({ mode: \"open\" });\r\n    const div = document.createElement(\"div\");\r\n    const style = document.createElement(\"style\");\r\n    style.innerHTML = `\r\n.header{\r\n  width:100%;\r\n  height:60px;\r\n  background-color:#FF8282;\r\n  font-size:22px;\r\n  font-weight:500;\r\n  display:flex;\r\n  justify-content:center;\r\n  align-items:center;\r\n}\r\n`;\r\n\r\n    div.innerHTML = `\r\n      <div class=\"header\"></div>\r\n      `;\r\n\r\n    shadow.appendChild(div);\r\n    shadow.appendChild(style);\r\n  }\r\n}\r\ncustomElements.define(\"custom-header\", Header);\r\n","export { state };\r\n\r\n// VEEEEEEEEEEEER\r\n\r\nconst state = {\r\n  data: {\r\n    tasks: [\r\n      {\r\n        title:\r\n          \"Bienvenido! PodÃ©s agregar una nota, marcarla como realizada, o eliminarla.\",\r\n        id: 1,\r\n      },\r\n    ],\r\n  },\r\n  listeners: [],\r\n\r\n  init() {\r\n    const localData = JSON.parse(localStorage.getItem(\"saved-state\"));\r\n    this.setState(localData);\r\n  },\r\n\r\n  getState() {\r\n    return this.data;\r\n  },\r\n  getEnabledTasks() {\r\n    const currentState = this.getState();\r\n    // const filter= currentState.tasks.filter((t)=>{\r\n    // return t.\r\n    // })\r\n    return currentState.tasks.filter((t) => !t.deleted);\r\n  },\r\n  addTask(id, title) {\r\n    const currentState = this.getState();\r\n    currentState.tasks.push({ id, title, completed: false });\r\n    this.setState(currentState);\r\n  },\r\n  changeItemState(id, value) {\r\n    const currentState = this.getState();\r\n    const found = currentState.tasks.find((t) => t.id == id);\r\n    found.completed = value;\r\n\r\n    this.setState(currentState);\r\n  },\r\n\r\n  deleteTask(id) {\r\n    const currentState = this.getState();\r\n    const foundTask = currentState.tasks.find((t) => t.id == id);\r\n    foundTask.deleted = true;\r\n    this.setState(currentState);\r\n  },\r\n  setState(newState) {\r\n    this.data = newState;\r\n    for (let cb of this.listeners) {\r\n      cb(newState);\r\n    }\r\n    localStorage.setItem(\"saved-state\", JSON.stringify(newState));\r\n  },\r\n  subscribe(callback: (any) => any) {\r\n    this.listeners.push(callback);\r\n  },\r\n};\r\n","import \"./components/card\";\r\nimport \"./components/text\";\r\nimport \"./components/todo-item\";\r\nimport \"./components/header\";\r\nimport { initHomePage } from \"./pages/home\";\r\nimport { state } from \"./state\";\r\n(function () {\r\n  const root = document.querySelector(\".root\");\r\n  state.init();\r\n  initHomePage(root);\r\n})();\r\n","import { state } from \"../../state\";\r\n\r\nexport function initHomePage(containerEl: Element) {\r\n  const div = document.createElement(\"div\");\r\n  const tasks = state.getEnabledTasks();\r\n\r\n  div.innerHTML = `\r\n  <custom-header></custom-header>\r\n  <div class=\"main-container\">\r\n  <h1 class=\"title\">Mis pendientes</h1>\r\n  <form class=\"my-form\">\r\n  <label class=\"label\">\r\n  <div class=\"label-input\">\r\n  <div class=\"label-data\">Nuevo pendiente</div>\r\n  <input class=\"task-input\" type\"text\" name=\"task\" />\r\n  </div>\r\n  <button class=\"add-button\">Agregar</button>\r\n  </label>\r\n  </form>\r\n  <ul class=\"lista\">\r\n  </ul>\r\n  </div>\r\n  `;\r\n\r\n  const listaEl = div.querySelector(\".lista\");\r\n\r\n  function createTasks(tasks) {\r\n    listaEl.innerHTML = \"\";\r\n    for (const t of tasks) {\r\n      const todoItemEl = document.createElement(\"todo-item\");\r\n      todoItemEl.setAttribute(\"title\", t.title);\r\n      todoItemEl.setAttribute(\"id\", t.id);\r\n      if (t.completed) {\r\n        todoItemEl.setAttribute(\"checked\", \"true\");\r\n      }\r\n\r\n      todoItemEl.addEventListener(\"delete\", (e: any) => {\r\n        state.deleteTask(e.detail.id);\r\n      });\r\n      todoItemEl.addEventListener(\"change\", (e: any) => {\r\n        state.changeItemState(e.detail.id, e.detail.value);\r\n      });\r\n      listaEl.appendChild(todoItemEl);\r\n    }\r\n  }\r\n\r\n  state.subscribe(() => {\r\n    createTasks(state.getEnabledTasks());\r\n  });\r\n\r\n  createTasks(tasks);\r\n\r\n  div.querySelector(\".my-form\").addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    const form = e.target as any;\r\n    state.addTask(Math.random(), form.task.value);\r\n    form.task.value = \"\";\r\n  });\r\n\r\n  containerEl.appendChild(div);\r\n}\r\n"],"names":["$58d758bf828b61c4$var$Text","HTMLElement","super","this","tags","tag","shadow","attachShadow","mode","includes","getAttribute","render","rootEl","document","createElement","textContent","appendChild","customElements","define","$bb85a6196f0320ef$var$Todo","checked","connectedCallback","title","hasAttribute","id","addCallbacks","querySelector","addEventListener","e","target","event","CustomEvent","detail","value","dispatchEvent","classList","toggle","clases","remove","style","display","border","deleteEvent","innerHTML","$e7453e1bf0e39a4e$var$Header","div","$0b89d474933103bc$export$ca000e230c0caa3e","data","tasks","listeners","init","localData","JSON","parse","localStorage","getItem","setState","getState","getEnabledTasks","filter","t","deleted","addTask","currentState","push","completed","changeItemState","find","deleteTask","newState","cb","setItem","stringify","subscribe","callback","root","containerEl","tasks1","listaEl","createTasks","todoItemEl","setAttribute","preventDefault","form","Math","random","task","$1610de69c571aaa7$export$a5e6865481338347"],"version":3,"file":"index.73104328.js.map"}